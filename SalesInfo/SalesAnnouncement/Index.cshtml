@page
@model kamjaService.Pages.SalesInfo.SalesAnnouncement.IndexModel

@{
    ViewData["Title"] = "Index";
    Layout = "~/Pages/Shared/_Layout.cshtml";
}

<h2>اطلاعیه های فروش</h2>
<hr />
       <table class="table" style="margin: 0">
    <tbody>
        <tr>
            <td>
<form asp-page="./Index" method="get">
@*    <div class="form-actions no-color" style="margin-top:27px">
        <p>
            جستجو : 
            <input type="text" name="SearchString" value="@Model.CurrentFilter" />
            <button type="submit" class="btn btn-danger"><h6 class="buttons_h6">جستجو</h6></button>

        </p>
    </div>
*@
    <div class="input-group search-container">
            <input type="text" class="form-control" placeholder="جستجو..." aria-label="جستجو" aria-describedby="basic-addon2" name="SearchString" value="@Model.CurrentFilter">
            <div class="input-group-append">
                <button class="btn btn-danger" type="submit">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
                        <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z" />
                    </svg>
                </button>
            </div>
        </div>
</form>
</td></tr></tbody></table>
<div class="table-responsive">
    <table class="table table-bordered table-hover table-striped" style="font-size: small;font-size:11px;">
        <thead class="container-fluid">
            <tr class="d-flex">
                <th class="col-2">
                    شماره
                </th>
                <th class="col-5">
                    عنوان
                </th>
                <th class="col-3">
                    تاریخ ثبت
                </th>
                <th class="col-2">
                    دریافت
                </th>
            </tr>
        </thead>
        <tbody class="container-fluid">
            @foreach (var item in Model.SalesAnnouncements)
            {
            <tr class="d-flex" style="cursor:default">
                @*
                *@
                <td class="col-2">
                    @Html.DisplayFor(modelItem => item.SalesAnnouncementId)
                </td>
                <td class="col-5">
                    @Html.DisplayFor(modelItem => item.title)
                </td>
                <td class="col-3">
                    @Html.DisplayFor(modelItem => item.date)
                </td>
                <td class="col-2" style=" padding: 0; text-align: center; padding-top: 5px;font-size: 15px;">
                    @{ 
                        var src = "/SalesAnnouncePdf/" + item.file_name + ".pdf";
                    }
                    <a href="@src" download id="download" style="text-decoration:none">
                        <i class="bi bi-download"></i>                    
                    </a>
                </td>

            </tr>
            }
        </tbody>
    </table>
</div>